<div class="container">
  <div style="margin: 5px">
    <button mat-button (click)="petersenGraph()">Petersen</button>
    <button mat-button (click)="housesWells()">3 Houses 3 Wells</button>
    <button mat-button (click)="butterfly()">Butterfly</button>
    <button mat-button (click)="positions()">Positions</button>
    <button mat-button (click)="graphStr()">Graph str</button>
  </div>
  <div style="margin: 5px">
    <mat-button-toggle-group
      [(ngModel)]="directed"
      [disabled]="graph != undefined"
    >
      <mat-button-toggle [value]="true">Directed</mat-button-toggle>
      <mat-button-toggle [value]="false">Undericted</mat-button-toggle>
    </mat-button-toggle-group>
    <mat-button-toggle-group
      [(ngModel)]="weighted"
      [disabled]="graph != undefined"
    >
      <mat-button-toggle [value]="true">Weighted</mat-button-toggle>
      <mat-button-toggle [value]="false">Unweighted</mat-button-toggle>
    </mat-button-toggle-group>
    <button
      mat-button
      (click)="createGraph()"
      [disabled]="
        directed == undefined || weighted == undefined || graph != undefined
      "
    >
      Create
    </button>
    <button mat-button (click)="addGraph()">Add graph</button>
    <button mat-button (click)="loadGraph()">Load</button>
    <input type="file" (change)="onFileSelected($event)" />
  </div>
  <div style="margin: 5px">
    <button
      mat-button
      (click)="downloaGraph()"
      [disabled]="
        directed == undefined || weighted == undefined || graph == undefined
      "
    >
      Download
    </button>
    <button
      mat-button
      (click)="saveGraph()"
      [disabled]="
        directed == undefined || weighted == undefined || graph == undefined
      "
    >
      Save
    </button>
    <button
      mat-button
      (click)="clearEdges()"
      [disabled]="
        directed == undefined || weighted == undefined || graph == undefined
      "
    >
      Clear edges
    </button>
    <button
      mat-button
      (click)="clearAll()"
      [disabled]="
        directed == undefined || weighted == undefined || graph == undefined
      "
    >
      Clear all
    </button>
    <button
      mat-button
      (click)="reset()"
      [disabled]="
        directed == undefined || weighted == undefined || graph == undefined
      "
    >
      Reset
    </button>
  </div>
  <div style="display: flex">
    <div id="mynetwork" #siteConfigNetwork></div>
    <div
      #infoArea
      *ngIf="selectedAlgorithmName != ''"
      style="
        display: inline-block;
        width: 250px;
        border-color: black;
        border-style: solid;
        border-width: 1px;
        margin-right: 15px;
      "
    >
      <table
        style="float: left"
        mat-table
        [dataSource]="bfsQueue"
        #bfsqueuetable
        *ngIf="selectedAlgorithmName == 'bfs'"
      >
        <ng-container matColumnDef="Node queue">
          <th mat-header-cell *matHeaderCellDef>Node queue</th>
          <td mat-cell *matCellDef="let element">{{ element }}</td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="queueColumnHeaders"></tr>
        <tr mat-row *matRowDef="let row; columns: queueColumnHeaders"></tr>
      </table>

      <table
        style="float: left"
        mat-table
        [dataSource]="dfsStack"
        #dfsstacktable
        *ngIf="selectedAlgorithmName == 'dfs'"
      >
        <ng-container matColumnDef="Node stack">
          <th mat-header-cell *matHeaderCellDef>Node stack</th>
          <td mat-cell *matCellDef="let element">{{ element }}</td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="stackColumnHeaders"></tr>
        <tr mat-row *matRowDef="let row; columns: stackColumnHeaders"></tr>
      </table>

      <table
        style="float: left"
        mat-table
        [dataSource]="topSort"
        #topsorttable
        *ngIf="selectedAlgorithmName == 'dfs'"
      >
        <ng-container matColumnDef="Top sort">
          <th mat-header-cell *matHeaderCellDef>Top sort</th>
          <td mat-cell *matCellDef="let element">{{ element }}</td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="topSortColumnHeaders"></tr>
        <tr mat-row *matRowDef="let row; columns: topSortColumnHeaders"></tr>
      </table>

      <table
        mat-table
        class="infoTable"
        #bellmanfordtable
        [dataSource]="bellmanFordTable"
        *ngIf="selectedAlgorithmName == 'bellmanford'"
      >
        <ng-container matColumnDef="Node">
          <th mat-header-cell *matHeaderCellDef>Node</th>
          <td mat-cell *matCellDef="let element">{{ element.Node }}</td>
        </ng-container>
        <ng-container matColumnDef="Distance">
          <th mat-header-cell *matHeaderCellDef>Distance</th>
          <td mat-cell *matCellDef="let element">{{ element.Distance }}</td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="distaceColumnHeaders"></tr>
        <tr mat-row *matRowDef="let row; columns: distaceColumnHeaders"></tr>
      </table>
    </div>
    <div>
      <textarea matInput #graphInput rows="13" cols="30"></textarea>
      <br />
      <button
        mat-button
        (click)="drawGraph(graphInput.value)"
        [disabled]="
          directed == undefined || weighted == undefined || graph == undefined
        "
      >
        Draw
      </button>
      <br />
      <button
        mat-button
        (click)="saveGraphToPNG()"
        [disabled]="graph == undefined"
      >
        Capture
      </button>
      <br />
      <img #imgCanvas style="width: 200px; height: 200px" />
    </div>
  </div>
  <randomgraph
    [directed]="directed"
    [weighted]="weighted"
    [graph]="graph"
    (graphFinished)="setGeneratedGraph($event)"
  ></randomgraph>
  <algorithms
    #algorithmsComponent
    [directed]="directed"
    [weighted]="weighted"
    [graph]="graph"
    [graphIsConnected]="graphIsConnected"
    [graphHasNegativeEdge]="graphHasNegativeEdge"
    (generatorResultEmitter)="stepClicked($event)"
    (resetAlgoEmitter)="resetAlgo()"
    (algoNameEmitter)="selectedAlgorithm($event)"
    [events]="graphChangedEvent.asObservable()"
  ></algorithms>
  <!--
  <player [directed]="directed" [weighted]="weighted"></player>
  -->
</div>
